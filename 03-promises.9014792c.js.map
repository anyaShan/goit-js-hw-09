{"mappings":"YAAA,IAAMA,EAAO,CACXC,OAAQC,SAASC,cAAc,SAC/BC,aAAcF,SAASC,cAAc,uBACrCE,YAAaH,SAASC,cAAc,sBACpCG,cAAeJ,SAASC,cAAc,wBACtCI,YAAaL,SAASC,cAAc,0BAgBtC,SAASK,EAAcC,EAAUC,GAG/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACaC,KAAKC,SAAW,GAEpCJ,EAAQ,CAAEH,WAAUC,UAEpBG,EAAO,CAAEJ,WAAUC,S,GAEpBA,E,IAxBPV,EAAKO,YAAYU,iBAAiB,UAElC,SAAsBC,GACpB,IAAMC,EAAaC,OAAOpB,EAAKI,cACzBiB,EAAQD,OAAOpB,EAAKK,aAC1BS,YAAW,WAET,IADA,IAAMQ,EAAYF,OAAOpB,EAAKM,eACrBiB,EAAW,EAAGA,GAAYD,EAAWC,GAAY,EACxDf,EAAce,EAAUF,E,GAEzBF,E,IAkBLX,EAAcC,SAAUC,OACrBc,MAAK,SAAAC,G,IAAGF,EAAQE,EAARhB,SAAUY,EAAKI,EAALf,MACjBgB,QAAQC,IAAI,uBAAwCC,OAAfL,EAAS,QAAYK,OAANP,EAAM,OAQ9D,SAAmBZ,EAAUC,GAC3B,IAAMmB,EAAS,iDAAkED,OAAfnB,EAAS,QAAYmB,OAANlB,EAAM,UACrFV,EAAGC,OAAO6B,mBAAmB,YAAaD,E,CATxCE,CAAQ,CAAEtB,SAAAc,EAAUb,MAAAW,G,IAEvBW,OAAM,SAAAP,G,IAAGF,EAAQE,EAARhB,SAAUY,EAAKI,EAALf,MAClBgB,QAAQC,IAAI,sBAAuCC,OAAfL,EAAS,QAAYK,OAANP,EAAM,OAS7D,SAAkBZ,EAAUC,GAC1B,IAAMmB,EAAS,+CAA8DD,OAAfnB,EAAS,QAAYmB,OAANlB,EAAM,UACnFV,EAAKC,OAAO6B,mBAAmB,YAAaD,E,CAVxCI,CAAO,CAAExB,SAAAc,EAAUb,MAAAW,G","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  formEl: document.querySelector('.form'),\n  delayInputEl: document.querySelector('input[name=\"delay\"]'),\n  stepInputEl: document.querySelector('input[name=\"step\"]'),\n  amountInputEl: document.querySelector('input[name=\"amount\"]'),\n  submitBtnEl: document.querySelector('button[type=\"submit\"]'),\n};\n\nrefs.submitBtnEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  const firstDelay = Number(refs.delayInputEl);\n  const delay = Number(refs.stepInputEl);\n  setTimeout(() => {\n    const positions = Number(refs.amountInputEl);\n    for (let position = 1; position <= positions; position += 1) {\n      createPromise(position, delay);\n    }\n  }, firstDelay);\n}\n\nfunction createPromise(position, delay) {\n  // delay = Number(refs.stepInputEl);\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\ncreatePromise(position, delay)\n  .then(({ position, delay }) => {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    fulfilled({ position, delay });\n  })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    rejected({ position, delay });\n  });\n\nfunction fulfilled(position, delay) {\n  const string = `<p class=\"fulfilled-text\">✅ Fulfilled promise ${position} in ${delay}ms</p>`;\n  refs.formEl.insertAdjacentHTML('beforeend', string);\n}\n\nfunction rejected(position, delay) {\n  const string = `<p class=\"rejected-text\">❌ Rejected promise ${position} in ${delay}ms</p>`;\n  refs.formEl.insertAdjacentHTML('beforeend', string);\n}\n"],"names":["$ce04d3a99e08e73b$var$refs","formEl","document","querySelector","delayInputEl","stepInputEl","amountInputEl","submitBtnEl","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","addEventListener","event","firstDelay","Number","_$delay","positions","_$position","then","param","console","log","concat","string","insertAdjacentHTML","$ce04d3a99e08e73b$var$fulfilled","catch","$ce04d3a99e08e73b$var$rejected"],"version":3,"file":"03-promises.9014792c.js.map"}